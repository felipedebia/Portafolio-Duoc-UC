{"version":3,"sources":["./node_modules/@capacitor/camera/dist/esm/definitions.js","./node_modules/@capacitor/camera/dist/esm/index.js","./node_modules/@capacitor/filesystem/dist/esm/definitions.js","./node_modules/@capacitor/filesystem/dist/esm/index.js","./src/app/pages/tomarfoto/tomarfoto-routing.module.ts","./src/app/pages/tomarfoto/tomarfoto.module.ts","./src/app/pages/tomarfoto/tomarfoto.page.ts","./src/app/services/photo.service.ts","./src/app/pages/tomarfoto/tomarfoto.page.scss","./src/app/pages/tomarfoto/tomarfoto.page.html"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAO;AACP;AACA;AACA;AACA;AACA,CAAC,oCAAoC;AAC9B;AACP;AACA;AACA;AACA,CAAC,0CAA0C;AACpC;AACP;AACA;AACA;AACA;AACA,CAAC,4CAA4C;AAC7C,uC;;;;;;;;;;;;;;;;;;;;ACjBiD;AACjD,eAAe,+DAAc;AAC7B,eAAe,6JAAe;AAC9B,CAAC;AAC6B;AACZ;AAClB,iC;;;;;;;;;;;;;;;;;;ACNO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8BAA8B;AACxB;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4BAA4B;AAC7B;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP,uC;;;;;;;;;;;;;;;;;;;;;AC5FiD;AACjD,mBAAmB,+DAAc;AACjC,eAAe,iKAAe;AAC9B,CAAC;AAC6B;AACR;AACtB,iC;;;;;;;;;;;;;;;;;;;;ACNyC;AACc;AAEN;AAIjD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,0DAAa;KACzB;CACF,CAAC;IAMW,0BAA0B,SAA1B,0BAA0B;CAAG;AAA7B,0BAA0B;IAJtC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,0BAA0B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;AClBE;AACM;AACF;AAEA;AAE2B;AAEvB;AACuB;AA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","file":"src_app_pages_tomarfoto_tomarfoto_module_ts.js","sourcesContent":["export var CameraSource;\n(function (CameraSource) {\n    CameraSource[\"Prompt\"] = \"PROMPT\";\n    CameraSource[\"Camera\"] = \"CAMERA\";\n    CameraSource[\"Photos\"] = \"PHOTOS\";\n})(CameraSource || (CameraSource = {}));\nexport var CameraDirection;\n(function (CameraDirection) {\n    CameraDirection[\"Rear\"] = \"REAR\";\n    CameraDirection[\"Front\"] = \"FRONT\";\n})(CameraDirection || (CameraDirection = {}));\nexport var CameraResultType;\n(function (CameraResultType) {\n    CameraResultType[\"Uri\"] = \"uri\";\n    CameraResultType[\"Base64\"] = \"base64\";\n    CameraResultType[\"DataUrl\"] = \"dataUrl\";\n})(CameraResultType || (CameraResultType = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst Camera = registerPlugin('Camera', {\n    web: () => import('./web').then(m => new m.CameraWeb()),\n});\nexport * from './definitions';\nexport { Camera };\n//# sourceMappingURL=index.js.map","export var Directory;\n(function (Directory) {\n    /**\n     * The Documents directory\n     * On iOS it's the app's documents directory.\n     * Use this directory to store user-generated content.\n     * On Android it's the Public Documents folder, so it's accessible from other apps.\n     * It's not accesible on Android 10 unless the app enables legacy External Storage\n     * by adding `android:requestLegacyExternalStorage=\"true\"` in the `application` tag\n     * in the `AndroidManifest.xml`.\n     * It's not accesible on Android 11 or newer.\n     *\n     * @since 1.0.0\n     */\n    Directory[\"Documents\"] = \"DOCUMENTS\";\n    /**\n     * The Data directory\n     * On iOS it will use the Documents directory\n     * On Android it's the directory holding application files.\n     * Files will be deleted when the application is uninstalled.\n     *\n     * @since 1.0.0\n     */\n    Directory[\"Data\"] = \"DATA\";\n    /**\n     * The Cache directory\n     * Can be deleted in cases of low memory, so use this directory to write app-specific files\n     * that your app can re-create easily.\n     *\n     * @since 1.0.0\n     */\n    Directory[\"Cache\"] = \"CACHE\";\n    /**\n     * The external directory\n     * On iOS it will use the Documents directory\n     * On Android it's the directory on the primary shared/external\n     * storage device where the application can place persistent files it owns.\n     * These files are internal to the applications, and not typically visible\n     * to the user as media.\n     * Files will be deleted when the application is uninstalled.\n     *\n     * @since 1.0.0\n     */\n    Directory[\"External\"] = \"EXTERNAL\";\n    /**\n     * The external storage directory\n     * On iOS it will use the Documents directory\n     * On Android it's the primary shared/external storage directory.\n     * It's not accesible on Android 10 unless the app enables legacy External Storage\n     * by adding `android:requestLegacyExternalStorage=\"true\"` in the `application` tag\n     * in the `AndroidManifest.xml`.\n     * It's not accesible on Android 11 or newer.\n     *\n     * @since 1.0.0\n     */\n    Directory[\"ExternalStorage\"] = \"EXTERNAL_STORAGE\";\n})(Directory || (Directory = {}));\nexport var Encoding;\n(function (Encoding) {\n    /**\n     * Eight-bit UCS Transformation Format\n     *\n     * @since 1.0.0\n     */\n    Encoding[\"UTF8\"] = \"utf8\";\n    /**\n     * Seven-bit ASCII, a.k.a. ISO646-US, a.k.a. the Basic Latin block of the\n     * Unicode character set\n     * This encoding is only supported on Android.\n     *\n     * @since 1.0.0\n     */\n    Encoding[\"ASCII\"] = \"ascii\";\n    /**\n     * Sixteen-bit UCS Transformation Format, byte order identified by an\n     * optional byte-order mark\n     * This encoding is only supported on Android.\n     *\n     * @since 1.0.0\n     */\n    Encoding[\"UTF16\"] = \"utf16\";\n})(Encoding || (Encoding = {}));\n/**\n * @deprecated Use `Directory`.\n * @since 1.0.0\n */\nexport const FilesystemDirectory = Directory;\n/**\n * @deprecated Use `Encoding`.\n * @since 1.0.0\n */\nexport const FilesystemEncoding = Encoding;\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst Filesystem = registerPlugin('Filesystem', {\n    web: () => import('./web').then(m => new m.FilesystemWeb()),\n});\nexport * from './definitions';\nexport { Filesystem };\n//# sourceMappingURL=index.js.map","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { TomarfotoPage } from './tomarfoto.page';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TomarfotoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class TomarfotoPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { TomarfotoPageRoutingModule } from './tomarfoto-routing.module';\r\n\r\nimport { TomarfotoPage } from './tomarfoto.page';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { NgxUsefulSwiperModule } from 'ngx-useful-swiper';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TomarfotoPageRoutingModule,\r\n    ComponentsModule,\r\n    NgxUsefulSwiperModule \r\n\r\n  ],\r\n  declarations: [TomarfotoPage]\r\n})\r\nexport class TomarfotoPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { SwiperOptions } from 'swiper';\r\nimport SwiperCore from 'swiper';\r\nimport { PhotoService } from '../../services/photo.service';\r\nimport { Imagen } from 'src/app/models/imagenModel';\r\nimport { Foto } from '../../models/webviewPath';\r\nimport { Local } from 'src/app/models/local';\r\nimport { UIHelper } from '../../services/uihelper.service';\r\nimport { AppConfigService } from '../../services/app.config.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-tomarfoto',\r\n  templateUrl: './tomarfoto.page.html',\r\n  styleUrls: ['./tomarfoto.page.scss'],\r\n})\r\nexport class TomarfotoPage implements OnInit {\r\n\r\n  fotosLista=this.fotoService.fotos.length;\r\n  MaxImagenes=3;\r\n\r\n  constructor(public fotoService: PhotoService, private helper:UIHelper, public app:AppConfigService ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  config: SwiperOptions = {\r\n    slidesPerView:3,\r\n    spaceBetween:10,\r\n\r\n    direction:'vertical',\r\n    pagination: { \r\n      el: '.swiper-pagination', \r\n      clickable: true \r\n    },\r\n  }; \r\n\r\n  ionViewDidLeave(){\r\n    this.fotoService.fotos= [];\r\n    this.fotosLista=this.fotoService.fotos.length;\r\n  }\r\n\r\n  async tomarFoto(){\r\n    if (this.fotoService.fotos.length==3) {\r\n      this.helper.showAlert(\"ya cuenta con la cantidad maxima de imagenes para enviar\");\r\n\r\n      \r\n    }else{\r\n      await this.fotoService.addNewToGallery()\r\n      this.fotosLista=this.fotoService.fotos.length;\r\n    }\r\n  }\r\n\r\n async guardarFotos(){\r\n\r\n    var local: Local;\r\n    if (this.fotoService.fotos.length!=0) {\r\n\r\n      \r\n      var loader = await this.helper.showLoader('Subiendo');\r\n      try {\r\n\r\n        this.fotoService.fotos= [];\r\n        loader.dismiss();\r\n        this.helper.showAlert(\"Imagenes subidas Correctamente\");\r\n  \r\n      } catch (error) {\r\n        loader.dismiss();\r\n        this.helper.showError(error);\r\n        \r\n      }\r\n    } else {\r\n      this.helper.showAlert(\"error\");\r\n    }\r\n\r\n  }\r\n\r\n  async remove(img:any){\r\n    const ind = this.fotoService.fotos.indexOf(img);\r\n    this.fotoService.fotos.splice(ind,1);\r\n    this.fotosLista=this.fotoService.fotos.length;\r\n\r\n  }\r\n\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Camera, CameraResultType, CameraSource, Photo } from '@capacitor/camera';\r\nimport { Filesystem, Directory } from '@capacitor/filesystem';\r\nimport { APIURL } from 'src/environments/environment';\r\nimport { ApiResponse } from '../models/ApiResponse';\r\nimport { Local } from '../models/local';\r\nimport { Foto } from '../models/webviewPath';\r\nimport { Router } from '@angular/router';\r\nimport { UIHelper } from './uihelper.service';\r\nimport { AppConfigService } from './app.config.service';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PhotoService {\r\n\r\n  public fotos: Foto[] = [];\r\n  public cantidadFotos:number;\r\n\r\n  constructor(\r\n    private http:HttpClient,\r\n    private router:Router,\r\n    private helper:UIHelper,\r\n    private app:AppConfigService\r\n    ) { }\r\n\r\n\r\n\r\n\r\n  public async addNewToGallery(){\r\n\r\n    //Proceso para tomar la foto\r\n    const nuevafoto = await Camera.getPhoto({\r\n      resultType: CameraResultType.Uri,\r\n      source: CameraSource.Camera,\r\n      quality: 100,\r\n      width:1024,\r\n      preserveAspectRatio:true,\r\n      allowEditing: false\r\n      \r\n    })\r\n\r\n    \r\n\r\n    this.fotos.unshift({\r\n      filepath: '',\r\n      webviewPath: nuevafoto.webPath\r\n      \r\n    });\r\n    this.cantidadFotos= this.fotos.length;\r\n  }\r\n\r\n  async tryPostImage(local:Local ){\r\n    var loader = await this.helper.showLoader(this.app.textos.loading);\r\n    var fallo=false;\r\n    for(let i = 0; i < this.fotos.length; i++ )\r\n    {\r\n      console.log(\"imagen \", i );\r\n      try {\r\n        const interno =  await fetch(this.fotos[i].webviewPath);\r\n        const blob:Blob =  await interno.blob();  \r\n        const response = await this.postImage(local, blob);\r\n        \r\n      } catch (error) {\r\n        fallo=true;\r\n        break\r\n      }\r\n    };\r\n    if (!fallo) {\r\n      loader.dismiss();\r\n      this.helper.showToast('no se pudieron cargar las imagenes', 2000)\r\n      this.fotos=[];\r\n      if (!local.finDescarga || !local.inicioDescarga ) {\r\n        this.router.navigate(['/route-detail'])\r\n      }else{\r\n      this.router.navigate(['/route'])\r\n      }\r\n\r\n    }else{\r\n      loader.dismiss();\r\n      this.helper.showError(this.app.textos.ImageUploadFailErr)\r\n    }\r\n  }\r\n\r\n  postImage(local:Local, foto:Blob )\r\n  {\r\n    var form = new FormData();\r\n    form.append('id_rp', local.idRp.toString())\r\n    form.append('id_viaje', local.idRuta.toString())\r\n    form.append('id_cliente', local.idLocal.toString())\r\n    form.append('image',foto,'imagen.png');\r\n\r\n    return this.http.post<ApiResponse<any>>(`${APIURL}/imagen`,form).toPromise();\r\n    \r\n  } \r\n\r\n  public async savePicture(cameraPhoto: Photo){\r\n    //convertir foto a base64\r\n    const base64Data = await this.readAsBase64(cameraPhoto)\r\n    //Escribir en el directorio --no se usara?--\r\n    const fileName = new Date().getTime+'.jpeg'\r\n    const savedFile= await Filesystem.writeFile({\r\n      path:fileName,\r\n      data:base64Data,\r\n      directory:Directory.Data\r\n    })\r\n    return{\r\n      filepath:fileName,\r\n      webviewPath: cameraPhoto.webPath\r\n    }\r\n\r\n  }\r\n\r\n  public async readAsBase64(cameraPhoto:Photo){\r\n  //convertir de blob a base64\r\n    const response = await fetch(cameraPhoto.webPath!)\r\n    const blob= await response.blob()\r\n\r\n    return await this.convertBlobToBase64(blob) as string\r\n  }\r\n\r\n  convertBlobToBase64= (blob:Blob) => new Promise ((resolve, reject)=>{\r\n    const reader = new FileReader\r\n    reader.onerror=reject\r\n    reader.onload=()=>{\r\n      resolve(reader.result)\r\n      reader.readAsDataURL(blob)\r\n\r\n    }\r\n  })\r\n\r\n}\r\n\r\n\r\n","export default \"ion-content {\\n  --ion-background-color: #1776bc;\\n  width: 100%;\\n}\\n\\nion-grid {\\n  margin-top: 2vh;\\n  margin-left: 10vw;\\n  margin-right: 10vw;\\n  justify-content: center;\\n}\\n\\nion-row {\\n  justify-content: center;\\n}\\n\\nion-col {\\n  justify-content: center;\\n  align-items: center;\\n  display: flex;\\n}\\n\\n.row1 {\\n  padding: 3%;\\n  border-radius: 1rem;\\n  background-color: #ffffff8c;\\n}\\n\\nion-img {\\n  width: 100%;\\n  height: auto;\\n}\\n\\n@supports (object-fit: cover) {\\n  ion-img {\\n    height: 100%;\\n    object-fit: cover;\\n    object-position: center center;\\n  }\\n}\\n\\n.row2 {\\n  margin-top: 4vh;\\n}\\n\\nswiper {\\n  height: 60vh;\\n  width: 90vw;\\n}\\n\\nbutton {\\n  background-color: transparent;\\n}\\n\\nbutton.delete {\\n  margin: 0.5rem;\\n  font-size: 2rem;\\n  border-radius: 50px;\\n  display: flex;\\n  align-items: center;\\n  width: 2.5rem;\\n  background-color: var(--ion-color-danger);\\n  height: 2.5rem;\\n  color: white;\\n  justify-content: center;\\n  justify-items: center;\\n  text-align: center;\\n}\\n\\n.contenedor {\\n  width: calc(100% - 1rem);\\n  height: 17vh;\\n  border: 2px solid white;\\n  border-radius: 2px;\\n  background-size: cover;\\n  margin: 0.5rem;\\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.16), 0 1px 2px rgba(0, 0, 0, 0.23);\\n  background-repeat: no-repeat;\\n  background-position: center center;\\n  position: relative;\\n  animation: reveal 1s ease;\\n}\\n\\n.opacidad {\\n  opacity: 0.4;\\n}\\n\\nion-img {\\n  height: 70px;\\n  width: 70px;\\n  margin: 5px;\\n}\\n\\nion-img:active {\\n  box-shadow: inset 2px 3px 4px #000;\\n  filter: saturate(50%);\\n  border-radius: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvbWFyZm90by5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSwrQkFBQTtFQUNBLFdBQUE7QUFDSjs7QUFFQTtFQUNJLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7QUFDSjs7QUFFQTtFQUNJLHVCQUFBO0FBQ0o7O0FBRUE7RUFDSSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtBQUNKOztBQUVBO0VBQ0ksV0FBQTtFQUNBLG1CQUFBO0VBQ0EsMkJBQUE7QUFDSjs7QUFFQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBQ0o7O0FBRUE7RUFDSTtJQUNJLFlBQUE7SUFDQSxpQkFBQTtJQUNBLDhCQUFBO0VBQ047QUFDRjs7QUFFQTtFQUNJLGVBQUE7QUFBSjs7QUFHQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0FBQUo7O0FBR0E7RUFDSSw2QkFBQTtBQUFKOztBQUdBO0VBQ0ksY0FBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7RUFDQSx5Q0FBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0VBQ0EsdUJBQUE7RUFDQSxxQkFBQTtFQUNBLGtCQUFBO0FBQUo7O0FBR0E7RUFDSSx3QkFBQTtFQUNBLFlBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7RUFDQSxjQUFBO0VBQ0Esd0VBQUE7RUFDQSw0QkFBQTtFQUNBLGtDQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtBQUFKOztBQUdBO0VBQ0ksWUFBQTtBQUFKOztBQUdBO0VBQ0ksWUFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0FBQUo7O0FBR0E7RUFDSSxrQ0FBQTtFQUNBLHFCQUFBO0VBQ0Esa0JBQUE7QUFBSiIsImZpbGUiOiJ0b21hcmZvdG8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xyXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogIzE3NzZiYztcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5pb24tZ3JpZCB7XHJcbiAgICBtYXJnaW4tdG9wOiAydmg7XHJcbiAgICBtYXJnaW4tbGVmdDogMTB2dztcclxuICAgIG1hcmdpbi1yaWdodDogMTB2dztcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG5pb24tcm93IHtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG5pb24tY29sIHtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbn1cclxuXHJcbi5yb3cxIHtcclxuICAgIHBhZGRpbmc6IDMlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXJlbTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY4YztcclxufVxyXG5cclxuaW9uLWltZyB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogYXV0bztcclxufVxyXG5cclxuQHN1cHBvcnRzKG9iamVjdC1maXQ6IGNvdmVyKSB7XHJcbiAgICBpb24taW1nIHtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgICAgICAgb2JqZWN0LXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyO1xyXG4gICAgfVxyXG59XHJcblxyXG4ucm93MiB7XHJcbiAgICBtYXJnaW4tdG9wOiA0dmg7XHJcbn1cclxuXHJcbnN3aXBlciB7XHJcbiAgICBoZWlnaHQ6IDYwdmg7XHJcbiAgICB3aWR0aDogOTB2dztcclxufVxyXG5cclxuYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG59XHJcblxyXG5idXR0b24uZGVsZXRlIHtcclxuICAgIG1hcmdpbjogLjVyZW07XHJcbiAgICBmb250LXNpemU6IDJyZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogMi41cmVtO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XHJcbiAgICBoZWlnaHQ6IDIuNXJlbTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAganVzdGlmeS1pdGVtczogY2VudGVyO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uY29udGVuZWRvciB7XHJcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gMXJlbSk7XHJcbiAgICBoZWlnaHQ6IDE3dmg7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCB3aGl0ZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICBtYXJnaW46IC41cmVtO1xyXG4gICAgYm94LXNoYWRvdzogMCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xNiksIDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMjMpO1xyXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBhbmltYXRpb246IHJldmVhbCAxcyBlYXNlO1xyXG59XHJcblxyXG4ub3BhY2lkYWQge1xyXG4gICAgb3BhY2l0eTogMC40O1xyXG59XHJcblxyXG5pb24taW1nIHtcclxuICAgIGhlaWdodDogNzBweDtcclxuICAgIHdpZHRoOiA3MHB4O1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcbn1cclxuXHJcbmlvbi1pbWc6YWN0aXZlIHtcclxuICAgIGJveC1zaGFkb3c6IGluc2V0IDJweCAzcHggNHB4ICMwMDA7XHJcbiAgICBmaWx0ZXI6IHNhdHVyYXRlKDUwJSk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbn0iXX0= */\";","export default \"<app-header> </app-header>\\r\\n\\r\\n<ion-content>\\r\\n    <ion-grid>\\r\\n        <ion-row class=\\\"row1\\\">\\r\\n            <swiper [config]=\\\"config\\\" slidesPerView=2 class=\\\"mySwiper\\\">\\r\\n                <div class=\\\"swiper-wrapper\\\">\\r\\n                    <div class=\\\"swiper-slide\\\" *ngFor=\\\"let foto of fotoService.fotos; index as position\\\" [style.background-image]=\\\"foto.webviewPath\\\">\\r\\n\\r\\n                        <div class=\\\"contenedor\\\" [style.background-image]=\\\"'url('+foto.webviewPath+')'\\\" width=\\\"auto\\\">\\r\\n                            <button class=\\\"delete\\\" (click)=\\\"remove(foto)\\\">\\r\\n                                X\\r\\n                              </button>\\r\\n                        </div>\\r\\n\\r\\n                    </div>\\r\\n\\r\\n                </div>\\r\\n                <!-- Add Pagination -->\\r\\n                <div class=\\\"swiper-pagination\\\"></div>\\r\\n            </swiper>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row class=\\\"row2\\\">\\r\\n            <ion-col size=6>\\r\\n                <button (click)='tomarFoto()' [disabled]=\\\"fotosLista==MaxImagenes\\\">\\r\\n                    <ion-img src=\\\"../assets/icon/icons/qmtls-17.png\\\" class=\\\"img-btn no-img icon-bd\\\" height=\\\"70\\\" width=\\\"70\\\" [ngClass]=\\\"{'opacidad': fotosLista==MaxImagenes}\\\"></ion-img>\\r\\n                </button>\\r\\n\\r\\n            </ion-col>\\r\\n\\r\\n            <ion-col size=6>\\r\\n\\r\\n                <button (click)='guardarFotos()' [disabled]=\\\"fotosLista==0\\\">\\r\\n                    <ion-img src=\\\"../assets/icon/icons/qmtls-22.png\\\" class=\\\"img-btn no-img icon-bd\\\" height=\\\"70\\\" width=\\\"70\\\" [ngClass]=\\\"{'opacidad': fotosLista==0}\\\"></ion-img>\\r\\n                </button>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n    </ion-grid>\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n<app-footer></app-footer>\";"],"sourceRoot":"webpack:///"}